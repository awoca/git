import XCTest
@testable import Git

final class OpenTests: Tests {
    func testNoRepository() {
        let expect = expectation(description: "")
        git.open(url).sink(receiveCompletion: {
            switch $0 {
            case .failure(.noRepository):
                expect.fulfill()
            default: break
            }
        }) { _ in
            XCTFail()
        }.store(in: &subs)
        waitForExpectations(timeout: 1)
    }
}
